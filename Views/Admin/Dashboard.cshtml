<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="~/css/styles.css" asp-append-version="true">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <h4 class="sidebar-header">Staff Management</h4>
            <div class="menu-section">
                <button class="menu-toggle">Employee Profile <i class="fas fa-chevron-down toggle-icon"></i></button>
                <ul class="submenu">
                    <li><a asp-area="" asp-controller="Employee" asp-action="Index"><i class="fas fa-list me-1"></i>Employee Profile</a></li>
                </ul>
            </div>

            <div class="menu-section">
                <button class="menu-toggle">Leave Application <i class="fas fa-chevron-down toggle-icon"></i></button>
                <ul class="submenu">
                    <li><a asp-controller="LeaveType" asp-action="Index"><i class="fas fa-list me-1"></i>Leave Type</a></li>
                    <li><a asp-controller="LeaveBalance" asp-action="Index"><i class="fas fa-chart-bar me-1"></i>Leave Balance</a></li>
                    <li><a asp-controller="Holiday" asp-action="Index"><i class="fas fa-list me-1"></i>Manage Holidays</a></li>
                    <li><a asp-controller="LeaveRequests" asp-action="Create"><i class="fas fa-list me-1"></i>Leave Request</a></li>
                    <li><a asp-controller="LeaveApproval" asp-action="Index"><i class="fas fa-list me-1"></i>Approval Form</a></li>
                    <li><a asp-controller="LeaveRequests" asp-action="History"><i class="fas fa-list me-1"></i>Leave History</a></li>
                </ul>
            </div>

            <div class="menu-section">
                <button class="menu-toggle">Employee Payroll <i class="fas fa-chevron-down toggle-icon"></i></button>
                <ul class="submenu">
                    <li><a asp-controller="Employee" asp-action="Adjustment"><i class="fas fa-list me-1"></i>Adjustment List</a></li>
                    <li><a asp-controller="Payroll" asp-action="Transaction"><i class="fas fa-chart-bar me-1"></i>Transaction List</a></li>
                </ul>
            </div>

            <div class="menu-section">
                <button class="menu-toggle">Employee Pension <i class="fas fa-chevron-down toggle-icon"></i></button>
                <ul class="submenu">
                    <li><a asp-controller="Pension" asp-action="PensionRequest"><i class="fas fa-chart-bar me-1"></i>Pension Request</a></li>
                    <li><a asp-controller="Pension" asp-action="PensionList" class="nav-link"><i class="fas fa-chart-bar me-1"></i>Pension List</a></li>
                </ul>
            </div>

            <div class="menu-section">
                <button class="menu-toggle">Resignation <i class="fas fa-chevron-down toggle-icon"></i></button>
                <ul class="submenu">
                    <li><a asp-controller="ServiceBonus" asp-action="RequestBonus" class="nav-link"> <i class="fas fa-chart-bar me-1"></i>Exit Form</a></li>
                    <li><a asp-controller="ServiceBonus" asp-action="ManageRequests" class="nav-link"> <i class="fas fa-chart-bar me-1"></i>Exit Approval Form</a></li>
                </ul>
            </div>

            <div class="menu-section">
                <button class="menu-toggle">Report <i class="fas fa-chevron-down toggle-icon"></i></button>
                <ul class="submenu">
                    <li><a asp-controller="Payroll" asp-action="Report"><i class="fas fa-list me-1"></i>Leave & Payroll Report</a></li>
                </ul>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="row text-center mb-4">
                <div class="col-md-3">
                    <div class="circle-box">
                        <h2>@Model.LeaveRequestCount</h2>
                        <p>Leave Requests</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="circle-box">
                        <h2>@Model.PayrollTransactionCount</h2>
                        <p>Payroll List</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="circle-box">
                        <h2>@Model.PensionCount</h2>
                        <p>Pension Requests</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="circle-box">
                        <h2>@Model.AttendanceCount</h2>
                        <p>Attendance</p>
                    </div>
                </div>
            </div>

            <div class="pending-box p-4">
                <h4>Pending Leave Requests</h4>
                <table class="table table-striped mt-3">
                    <thead>
                        <tr>
                            <th>Employee</th>
                            <th>From Date</th>
                            <th>To Date</th>
                            <th>Request Date</th>
                            <th>Duration</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var leave in Model.PendingLeaves)
                        {
                            <tr>
                                <td>@leave.EmployeeName</td>
                                <td>@leave.StartDate.ToShortDateString()</td>
                                <td>@leave.EndDate.ToShortDateString()</td>
                                <td>@leave.RequestedAt.ToShortDateString()</td>
                                <td>@leave.Duration</td>
                                <td>@leave.Status</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>

            <div class="pending-box p-4">
                <h4>Pending Pension Requests</h4>
                <table class="table table-striped mt-3">
                    <thead>
                        <tr>
                            <th>Employee</th>
                            <th>Department</th>
                            <th>Position</th>
                            <th>ServicYears</th>
                            <th>Age</th>
                            <th>Reason</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var pension in Model.PendingPension)
                        {
                            <tr>
                                <td>@pension.EmployeeName</td>
                                <td>@pension.Department</td>
                                <td>@pension.Position</td>
                                <td>@pension.ServiceYears</td>
                                <td>@pension.Age</td>
                                <td>@pension.Reason</td>
                                <td>@pension.Status</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>

        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/script.js" asp-append-version="true"></script>
</body>
</html>
